define(["jquery","core/log","mod_cpassignment/cloudpoodllloader"],(function($,log,cloudpoodll){return log.debug("cpassignment recorder helper: initialising"),{status:"stopped",init:function(opts,on_recording_start,on_recording_end,on_audio_processing){var that=this;cloudpoodll.init(opts.recorderid,(function(message){switch(console.log(message),message.type){case"recording":"started"===message.action?(that.startbuttonclick(),on_recording_start(message)):"stopped"===message.action&&(that.stopbuttonclick(),on_recording_end(message));break;case"awaitingprocessing":"posted"!=that.status&&on_audio_processing(message),that.status="posted"}}))},stopbuttonclick:function(){this.status="stopped"},startbuttonclick:function(){this.status="started"}}}));

//# sourceMappingURL=recorderhelper.min.js.map